<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Migrating from Vuex â‰¤4 | Pinia</title>
    <meta name="description" content="Intuitive, type safe, light and flexible Store for Vue">
    <link rel="preload stylesheet" href="/assets/style.4804b57a.css" as="style">
    
    <script type="module" src="/assets/app.b7b04354.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.7ffc5276.js">
    <link rel="modulepreload" href="/assets/chunks/theme.0f3a9405.js">
    <link rel="modulepreload" href="/assets/cookbook_migration-vuex.md.ff55aec8.lean.js">
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
    <link rel="icon" type="image/png" href="/logo.png">
    <meta name="wwads-cn-verify" content="5878a7ab84fb43402106c575658472fa">
    <meta property="og:type" content="website">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:image" content="https://pinia.vuejs.org/social.png">
    <script src="https://cdn.usefathom.com/script.js" data-site="KFPPRRIS" data-spa="auto" defer></script>
    <script src="https://vueschool.io/banner.js?affiliate=vuerouter&amp;type=top" async type="text/javascript"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"dark",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta property="og:url" content="https://pinia.vuejs.org">
    <meta property="og:description" content="Intuitive, type safe, light and flexible Store for Vue">
    <meta property="twitter:url" content="https://pinia.vuejs.org">
    <meta property="twitter:title" content="Pinia ğŸ">
    <meta property="twitter:description" content="Intuitive, type safe, light and flexible Store for Vue">
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-33ee37b4><!--[--><!--]--><!--[--><span tabindex="-1" data-v-38af9ffd></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-38af9ffd> Skip to content </a><!--]--><!----><header class="VPNav" data-v-33ee37b4 data-v-9c41f005><div class="VPNavBar has-sidebar" data-v-9c41f005 data-v-f1159a32><div class="container" data-v-f1159a32><div class="title" data-v-f1159a32><div class="VPNavBarTitle has-sidebar" data-v-f1159a32 data-v-c6bb4425><a class="title" href="/" data-v-c6bb4425><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-2bc16bf4><!--]--><!--[-->Pinia<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f1159a32><div class="curtain" data-v-f1159a32></div><div class="content-body" data-v-f1159a32><!--[--><!--]--><div class="VPNavBarSearch search" data-v-f1159a32><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f1159a32 data-v-c11fa277><span id="main-nav-aria-label" class="visually-hidden" data-v-c11fa277>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/core-concepts/" tabindex="0" data-v-c11fa277 data-v-a0f9585a><!--[--><span data-v-a0f9585a>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/api/" tabindex="0" data-v-c11fa277 data-v-a0f9585a><!--[--><span data-v-a0f9585a>API</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/cookbook/" tabindex="0" data-v-c11fa277 data-v-a0f9585a><!--[--><span data-v-a0f9585a>Cookbook</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-c11fa277 data-v-abda403d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-abda403d><span class="text" data-v-abda403d><!----><span data-v-abda403d>Links</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-abda403d><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-abda403d><div class="VPMenu" data-v-abda403d data-v-a0cc8604><div class="items" data-v-a0cc8604><!--[--><!--[--><div class="VPMenuLink" data-v-a0cc8604 data-v-278feb32><a class="VPLink link vp-external-link-icon" href="https://github.com/vuejs/pinia/discussions" target="_blank" rel="noreferrer" data-v-278feb32><!--[-->Discussions<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-a0cc8604 data-v-278feb32><a class="VPLink link vp-external-link-icon" href="https://github.com/vuejs/pinia/blob/v2/packages/pinia/CHANGELOG.md" target="_blank" rel="noreferrer" data-v-278feb32><!--[-->Changelog<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-a0cc8604 data-v-278feb32><a class="VPLink link vp-external-link-icon" href="https://certification.vuejs.org/?friend=VUEROUTER" target="_blank" rel="noreferrer" data-v-278feb32><!--[-->Vue.js Certification<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-f1159a32 data-v-5fb30e1b data-v-abda403d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-abda403d><span class="text" data-v-abda403d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="option-icon" data-v-abda403d><path d="M0 0h24v24H0z" fill="none"></path><path d=" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z " class="css-c4d79v"></path></svg><!----><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-abda403d><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-abda403d><div class="VPMenu" data-v-abda403d data-v-a0cc8604><!----><!--[--><!--[--><div class="items" data-v-5fb30e1b><p class="title" data-v-5fb30e1b>English</p><!--[--><div class="VPMenuLink" data-v-5fb30e1b data-v-278feb32><a class="VPLink link" href="/zh/cookbook/migration-vuex.html" data-v-278feb32><!--[-->ç®€ä½“ä¸­æ–‡<!--]--></a></div><div class="VPMenuLink" data-v-5fb30e1b data-v-278feb32><a class="VPLink link vp-external-link-icon" href="https://es-pinia.vercel.app/cookbook/migration-vuex.html" target="_blank" rel="noreferrer" data-v-278feb32><!--[-->EspaÃ±ol<!--]--></a></div><div class="VPMenuLink" data-v-5fb30e1b data-v-278feb32><a class="VPLink link vp-external-link-icon" href="https://pinia.vuejs.kr/cookbook/migration-vuex.html" target="_blank" rel="noreferrer" data-v-278feb32><!--[-->í•œêµ­ì–´<!--]--></a></div><div class="VPMenuLink" data-v-5fb30e1b data-v-278feb32><a class="VPLink link vp-external-link-icon" href="https://pinia-docs-pt.netlify.app/cookbook/migration-vuex.html" target="_blank" rel="noreferrer" data-v-278feb32><!--[-->PortuguÃªs<!--]--></a></div><div class="VPMenuLink" data-v-5fb30e1b data-v-278feb32><a class="VPLink link vp-external-link-icon" href="https://pinia-ua.netlify.app/cookbook/migration-vuex.html" target="_blank" rel="noreferrer" data-v-278feb32><!--[-->Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°<!--]--></a></div><div class="VPMenuLink" data-v-5fb30e1b data-v-278feb32><a class="VPLink link vp-external-link-icon" href="https://pinia-ru.netlify.app/cookbook/migration-vuex.html" target="_blank" rel="noreferrer" data-v-278feb32><!--[-->Ğ ÑƒÑÑĞºĞ¸Ğ¹<!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-f1159a32 data-v-2572af64><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-2572af64 data-v-b2b45f41 data-v-5a7d68c1><span class="check" data-v-5a7d68c1><span class="icon" data-v-5a7d68c1><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-b2b45f41><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-b2b45f41><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-f1159a32 data-v-cdca555d data-v-e709373e><!--[--><a class="VPSocialLink no-icon" href="https://twitter.com/posva" aria-label="x" target="_blank" rel="noopener" data-v-e709373e data-v-0fd85293><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg></a><a class="VPSocialLink no-icon" href="https://github.com/vuejs/pinia" aria-label="github" target="_blank" rel="noopener" data-v-e709373e data-v-0fd85293><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://chat.vuejs.org" aria-label="discord" target="_blank" rel="noopener" data-v-e709373e data-v-0fd85293><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-f1159a32 data-v-263cd6ee data-v-abda403d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-abda403d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-abda403d><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-abda403d><div class="VPMenu" data-v-abda403d data-v-a0cc8604><!----><!--[--><!--[--><div class="group translations" data-v-263cd6ee><p class="trans-title" data-v-263cd6ee>English</p><!--[--><div class="VPMenuLink" data-v-263cd6ee data-v-278feb32><a class="VPLink link" href="/zh/cookbook/migration-vuex.html" data-v-278feb32><!--[-->ç®€ä½“ä¸­æ–‡<!--]--></a></div><div class="VPMenuLink" data-v-263cd6ee data-v-278feb32><a class="VPLink link vp-external-link-icon" href="https://es-pinia.vercel.app/cookbook/migration-vuex.html" target="_blank" rel="noreferrer" data-v-278feb32><!--[-->EspaÃ±ol<!--]--></a></div><div class="VPMenuLink" data-v-263cd6ee data-v-278feb32><a class="VPLink link vp-external-link-icon" href="https://pinia.vuejs.kr/cookbook/migration-vuex.html" target="_blank" rel="noreferrer" data-v-278feb32><!--[-->í•œêµ­ì–´<!--]--></a></div><div class="VPMenuLink" data-v-263cd6ee data-v-278feb32><a class="VPLink link vp-external-link-icon" href="https://pinia-docs-pt.netlify.app/cookbook/migration-vuex.html" target="_blank" rel="noreferrer" data-v-278feb32><!--[-->PortuguÃªs<!--]--></a></div><div class="VPMenuLink" data-v-263cd6ee data-v-278feb32><a class="VPLink link vp-external-link-icon" href="https://pinia-ua.netlify.app/cookbook/migration-vuex.html" target="_blank" rel="noreferrer" data-v-278feb32><!--[-->Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°<!--]--></a></div><div class="VPMenuLink" data-v-263cd6ee data-v-278feb32><a class="VPLink link vp-external-link-icon" href="https://pinia-ru.netlify.app/cookbook/migration-vuex.html" target="_blank" rel="noreferrer" data-v-278feb32><!--[-->Ğ ÑƒÑÑĞºĞ¸Ğ¹<!--]--></a></div><!--]--></div><div class="group" data-v-263cd6ee><div class="item appearance" data-v-263cd6ee><p class="label" data-v-263cd6ee>Appearance</p><div class="appearance-action" data-v-263cd6ee><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-263cd6ee data-v-b2b45f41 data-v-5a7d68c1><span class="check" data-v-5a7d68c1><span class="icon" data-v-5a7d68c1><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-b2b45f41><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-b2b45f41><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-263cd6ee><div class="item social-links" data-v-263cd6ee><div class="VPSocialLinks social-links-list" data-v-263cd6ee data-v-e709373e><!--[--><a class="VPSocialLink no-icon" href="https://twitter.com/posva" aria-label="x" target="_blank" rel="noopener" data-v-e709373e data-v-0fd85293><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg></a><a class="VPSocialLink no-icon" href="https://github.com/vuejs/pinia" aria-label="github" target="_blank" rel="noopener" data-v-e709373e data-v-0fd85293><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://chat.vuejs.org" aria-label="discord" target="_blank" rel="noopener" data-v-e709373e data-v-0fd85293><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f1159a32 data-v-f5f9f69e><span class="container" data-v-f5f9f69e><span class="top" data-v-f5f9f69e></span><span class="middle" data-v-f5f9f69e></span><span class="bottom" data-v-f5f9f69e></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-33ee37b4 data-v-b1a4f100><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-b1a4f100><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-b1a4f100><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-b1a4f100>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-b1a4f100 data-v-0ee5cebb><button data-v-0ee5cebb>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-33ee37b4 data-v-3cb765d2><div class="curtain" data-v-3cb765d2></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-3cb765d2><span class="visually-hidden" id="sidebar-aria-label" data-v-3cb765d2> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-3cb765d2><section class="VPSidebarItem level-0" data-v-3cb765d2 data-v-cf3ecbee><div class="item" role="button" tabindex="0" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><h2 class="text" data-v-cf3ecbee>Introduction</h2><!----></div><div class="items" data-v-cf3ecbee><!--[--><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/introduction.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>What is Pinia?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/getting-started.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Getting Started</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-3cb765d2><section class="VPSidebarItem level-0" data-v-3cb765d2 data-v-cf3ecbee><div class="item" role="button" tabindex="0" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><h2 class="text" data-v-cf3ecbee>Core Concepts</h2><!----></div><div class="items" data-v-cf3ecbee><!--[--><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/core-concepts/" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Defining a Store</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/core-concepts/state.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>State</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/core-concepts/getters.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Getters</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/core-concepts/actions.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Actions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/core-concepts/plugins.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Plugins</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/core-concepts/outside-component-usage.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Stores outside of components</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-3cb765d2><section class="VPSidebarItem level-0" data-v-3cb765d2 data-v-cf3ecbee><div class="item" role="button" tabindex="0" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><h2 class="text" data-v-cf3ecbee>Server-Side Rendering (SSR)</h2><!----></div><div class="items" data-v-cf3ecbee><!--[--><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/ssr/" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Vue and Vite</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/ssr/nuxt.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Nuxt.js</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-3cb765d2><section class="VPSidebarItem level-0 collapsible has-active" data-v-3cb765d2 data-v-cf3ecbee><div class="item" role="button" tabindex="0" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><h2 class="text" data-v-cf3ecbee>Cookbook</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cf3ecbee><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-cf3ecbee><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-cf3ecbee><!--[--><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/cookbook/" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Index</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/cookbook/migration-vuex.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Migration from Vuex â‰¤4</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/cookbook/hot-module-replacement.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Hot Module Replacement</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/cookbook/testing.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Testing</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/cookbook/options-api.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Usage without setup()</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/cookbook/composing-stores.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Composing Stores</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/cookbook/vscode-snippets.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>VSCode Snippets</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/cookbook/migration-v1-v2.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Migration from v0/v1 to v2</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf3ecbee data-v-cf3ecbee><div class="item" data-v-cf3ecbee><div class="indicator" data-v-cf3ecbee></div><a class="VPLink link link" href="/cookbook/composables.html" data-v-cf3ecbee><!--[--><p class="text" data-v-cf3ecbee>Dealing with composables</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-33ee37b4 data-v-4146c5df><div class="VPDoc has-sidebar has-aside" data-v-4146c5df data-v-61a2b52f><!--[--><!--]--><div class="container" data-v-61a2b52f><div class="aside" data-v-61a2b52f><div class="aside-curtain" data-v-61a2b52f></div><div class="aside-container" data-v-61a2b52f><div class="aside-content" data-v-61a2b52f><div class="VPDocAside" data-v-61a2b52f data-v-db972c0f><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-db972c0f data-v-3372ea01><div class="content" data-v-3372ea01><div class="outline-marker" data-v-3372ea01></div><div class="outline-title" role="heading" aria-level="2" data-v-3372ea01>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-3372ea01><span class="visually-hidden" id="doc-outline-aria-label" data-v-3372ea01> Table of Contents for current page </span><ul class="root" data-v-3372ea01 data-v-b8cf09e4><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-db972c0f></div><!--[--><!--]--><div class="VPDocAsideCarbonAds" data-v-db972c0f><div class="VPCarbonAds" data-v-b038fa69></div></div><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-61a2b52f><div class="content-container" data-v-61a2b52f><!--[--><!--]--><!----><main class="main" data-v-61a2b52f><div style="position:relative;" class="vp-doc _cookbook_migration-vuex" data-v-61a2b52f><div><h1 id="Migrating-from-Vuex-â‰¤4" tabindex="-1">Migrating from Vuex â‰¤4 <a class="header-anchor" href="#Migrating-from-Vuex-â‰¤4" aria-label="Permalink to &quot;Migrating from Vuex â‰¤4&quot;">â€‹</a></h1><p>Although the structure of Vuex and Pinia stores is different, a lot of the logic can be reused. This guide serves to help you through the process and point out some common gotchas that can appear.</p><h2 id="Preparation" tabindex="-1">Preparation <a class="header-anchor" href="#Preparation" aria-label="Permalink to &quot;Preparation&quot;">â€‹</a></h2><p>First, follow the <a href="./../getting-started.html">Getting Started guide</a> to install Pinia.</p><h2 id="Restructuring-Modules-to-Stores" tabindex="-1">Restructuring Modules to Stores <a class="header-anchor" href="#Restructuring-Modules-to-Stores" aria-label="Permalink to &quot;Restructuring Modules to Stores&quot;">â€‹</a></h2><p>Vuex has the concept of a single store with multiple <em>modules</em>. These modules can optionally be namespaced and even nested within each other.</p><p>The easiest way to transition that concept to be used with Pinia is that each module you used previously is now a <em>store</em>. Each store requires an <code>id</code> which is similar to a namespace in Vuex. This means that each store is namespaced by design. Nested modules can also each become their own store. Stores that depend on each other will simply import the other store.</p><p>How you choose to restructure your Vuex modules into Pinia stores is entirely up to you, but here is one suggestion:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;"># Vuex example (assuming namespaced modules)</span></span>
<span class="line"><span style="color:#62E884;">src</span></span>
<span class="line"><span style="color:#62E884;">â””â”€â”€</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">store</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">â”œâ”€â”€</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">index.js</span><span style="color:#F6F6F4;">           </span><span style="color:#7B7F8B;"># Initializes Vuex, imports modules</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">â””â”€â”€</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">modules</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#62E884;">â”œâ”€â”€</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">module1.js</span><span style="color:#F6F6F4;">     </span><span style="color:#7B7F8B;"># &#39;module1&#39; namespace</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#62E884;">â””â”€â”€</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">nested</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#62E884;">â”œâ”€â”€</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">index.js</span><span style="color:#F6F6F4;">   </span><span style="color:#7B7F8B;"># &#39;nested&#39; namespace, imports module2 &amp; module3</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#62E884;">â”œâ”€â”€</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">module2.js</span><span style="color:#F6F6F4;"> </span><span style="color:#7B7F8B;"># &#39;nested/module2&#39; namespace</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#62E884;">â””â”€â”€</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">module3.js</span><span style="color:#F6F6F4;"> </span><span style="color:#7B7F8B;"># &#39;nested/module3&#39; namespace</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;"># Pinia equivalent, note ids match previous namespaces</span></span>
<span class="line"><span style="color:#62E884;">src</span></span>
<span class="line"><span style="color:#62E884;">â””â”€â”€</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">stores</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">â”œâ”€â”€</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">index.js</span><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;"># (Optional) Initializes Pinia, does not import stores</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">â”œâ”€â”€</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">module1.js</span><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;"># &#39;module1&#39; id</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">â”œâ”€â”€</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">nested-module2.js</span><span style="color:#F6F6F4;"> </span><span style="color:#7B7F8B;"># &#39;nestedModule2&#39; id</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">â”œâ”€â”€</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">nested-module3.js</span><span style="color:#F6F6F4;"> </span><span style="color:#7B7F8B;"># &#39;nestedModule3&#39; id</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">â””â”€â”€</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">nested.js</span><span style="color:#F6F6F4;">         </span><span style="color:#7B7F8B;"># &#39;nested&#39; id</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># Vuex example (assuming namespaced modules)</span></span>
<span class="line"><span style="color:#59873A;">src</span></span>
<span class="line"><span style="color:#59873A;">â””â”€â”€</span><span style="color:#393A34;"> </span><span style="color:#B56959;">store</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">â”œâ”€â”€</span><span style="color:#393A34;"> </span><span style="color:#B56959;">index.js</span><span style="color:#393A34;">           </span><span style="color:#A0ADA0;"># Initializes Vuex, imports modules</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">â””â”€â”€</span><span style="color:#393A34;"> </span><span style="color:#B56959;">modules</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">â”œâ”€â”€</span><span style="color:#393A34;"> </span><span style="color:#B56959;">module1.js</span><span style="color:#393A34;">     </span><span style="color:#A0ADA0;"># &#39;module1&#39; namespace</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">â””â”€â”€</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nested</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#59873A;">â”œâ”€â”€</span><span style="color:#393A34;"> </span><span style="color:#B56959;">index.js</span><span style="color:#393A34;">   </span><span style="color:#A0ADA0;"># &#39;nested&#39; namespace, imports module2 &amp; module3</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#59873A;">â”œâ”€â”€</span><span style="color:#393A34;"> </span><span style="color:#B56959;">module2.js</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;"># &#39;nested/module2&#39; namespace</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#59873A;">â””â”€â”€</span><span style="color:#393A34;"> </span><span style="color:#B56959;">module3.js</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;"># &#39;nested/module3&#39; namespace</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># Pinia equivalent, note ids match previous namespaces</span></span>
<span class="line"><span style="color:#59873A;">src</span></span>
<span class="line"><span style="color:#59873A;">â””â”€â”€</span><span style="color:#393A34;"> </span><span style="color:#B56959;">stores</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">â”œâ”€â”€</span><span style="color:#393A34;"> </span><span style="color:#B56959;">index.js</span><span style="color:#393A34;">          </span><span style="color:#A0ADA0;"># (Optional) Initializes Pinia, does not import stores</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">â”œâ”€â”€</span><span style="color:#393A34;"> </span><span style="color:#B56959;">module1.js</span><span style="color:#393A34;">        </span><span style="color:#A0ADA0;"># &#39;module1&#39; id</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">â”œâ”€â”€</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nested-module2.js</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;"># &#39;nestedModule2&#39; id</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">â”œâ”€â”€</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nested-module3.js</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;"># &#39;nestedModule3&#39; id</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">â””â”€â”€</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nested.js</span><span style="color:#393A34;">         </span><span style="color:#A0ADA0;"># &#39;nested&#39; id</span></span></code></pre></div><p>This creates a flat structure for stores but also preserves the previous namespacing with equivalent <code>id</code>s. If you had some state/getters/actions/mutations in the root of the store (in the <code>store/index.js</code> file of Vuex) you may wish to create another store called something like <code>root</code> which holds all that information.</p><p>The directory for Pinia is generally called <code>stores</code> instead of <code>store</code>. This is to emphasize that Pinia uses multiple stores, instead of a single store in Vuex.</p><p>For large projects you may wish to do this conversion module by module rather than converting everything at once. You can actually mix Pinia and Vuex together during the migration so this approach can also work and is another reason for naming the Pinia directory <code>stores</code> instead.</p><h2 id="Converting-a-Single-Module" tabindex="-1">Converting a Single Module <a class="header-anchor" href="#Converting-a-Single-Module" aria-label="Permalink to &quot;Converting a Single Module&quot;">â€‹</a></h2><p>Here is a complete example of the before and after of converting a Vuex module to a Pinia store, see below for a step-by-step guide. The Pinia example uses an option store as the structure is most similar to Vuex:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// Vuex module in the &#39;auth/user&#39; namespace</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { Module } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">vuex</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { api } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">@/api</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { RootState } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">@/types</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;"> </span><span style="color:#7B7F8B;">// if using a Vuex type definition</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">State</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  firstName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span></span>
<span class="line"><span style="color:#F6F6F4;">  lastName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span></span>
<span class="line"><span style="color:#F6F6F4;">  userId</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">null</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> storeModule</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Module</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#FFB86C;font-style:italic;">State</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">RootState</span><span style="color:#F6F6F4;">&gt; </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  namespaced</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">  state</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    firstName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    lastName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    userId</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span></span>
<span class="line"><span style="color:#F6F6F4;">  },</span></span>
<span class="line"><span style="color:#F6F6F4;">  getters</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">firstName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">state</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> state.firstName,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">fullName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">state</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">`</span><span style="color:#F286C4;">${</span><span style="color:#F6F6F4;">state.firstName</span><span style="color:#F286C4;">}</span><span style="color:#E7EE98;"> </span><span style="color:#F286C4;">${</span><span style="color:#F6F6F4;">state.lastName</span><span style="color:#F286C4;">}</span><span style="color:#E7EE98;">`</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">loggedIn</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">state</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> state.userId </span><span style="color:#F286C4;">!==</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// combine with some state from other modules</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">fullUserDetails</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">state</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">getters</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">rootState</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">rootGetters</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">state,</span></span>
<span class="line"><span style="color:#F6F6F4;">        fullName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> getters.fullName,</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">// read the state from another module named `auth`</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">rootState.auth.preferences,</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">// read a getter from a namespaced module called `email` nested under `auth`</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">rootGetters[</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">auth/email</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">].details</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">  },</span></span>
<span class="line"><span style="color:#F6F6F4;">  actions</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">async</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">loadUser</span><span style="color:#F6F6F4;"> ({ </span><span style="color:#FFB86C;font-style:italic;">state</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">commit</span><span style="color:#F6F6F4;"> }, </span><span style="color:#FFB86C;font-style:italic;">id</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (state.userId </span><span style="color:#F286C4;">!==</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">throw</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Error</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Already logged in</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> res </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">await</span><span style="color:#F6F6F4;"> api.user.</span><span style="color:#62E884;">load</span><span style="color:#F6F6F4;">(id)</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#62E884;">commit</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">updateUser</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, res)</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">  },</span></span>
<span class="line"><span style="color:#F6F6F4;">  mutations</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">updateUser</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">state</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">payload</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">      state.firstName </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> payload.firstName</span></span>
<span class="line"><span style="color:#F6F6F4;">      state.lastName </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> payload.lastName</span></span>
<span class="line"><span style="color:#F6F6F4;">      state.userId </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> payload.userId</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">clearUser</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">state</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">      state.firstName </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;">      state.lastName </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;">      state.userId </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">default</span><span style="color:#F6F6F4;"> storeModule</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// Vuex module in the &#39;auth/user&#39; namespace</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Module</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">vuex</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">api</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@/api</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">RootState</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@/types</span><span style="color:#B5695999;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// if using a Vuex type definition</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">interface</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">State</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">firstName</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">string</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">lastName</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">string</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">userId</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">number</span><span style="color:#999999;"> | </span><span style="color:#AB5959;">null</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const </span><span style="color:#B07D48;">storeModule</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">Module</span><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">State</span><span style="color:#999999;">, </span><span style="color:#2E8F82;">RootState</span><span style="color:#999999;">&gt; =</span><span style="color:#AB5959;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">namespaced</span><span style="color:#999999;">: </span><span style="color:#1E754F;">true</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">state</span><span style="color:#999999;">: {</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">firstName</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">lastName</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">userId</span><span style="color:#999999;">: </span><span style="color:#AB5959;">null</span></span>
<span class="line"><span style="color:#999999;">  },</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">getters</span><span style="color:#999999;">: {</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">firstName</span><span style="color:#999999;">: (</span><span style="color:#B07D48;">state</span><span style="color:#999999;">) =&gt; </span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">firstName</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">fullName</span><span style="color:#999999;">: (</span><span style="color:#B07D48;">state</span><span style="color:#999999;">) =&gt; </span><span style="color:#B5695999;">`</span><span style="color:#999999;">${</span><span style="color:#B56959;">state</span><span style="color:#999999;">.</span><span style="color:#B56959;">firstName</span><span style="color:#999999;">}</span><span style="color:#B56959;"> </span><span style="color:#999999;">${</span><span style="color:#B56959;">state</span><span style="color:#999999;">.</span><span style="color:#B56959;">lastName</span><span style="color:#999999;">}</span><span style="color:#B5695999;">`</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">loggedIn</span><span style="color:#999999;">: (</span><span style="color:#B07D48;">state</span><span style="color:#999999;">) =&gt; </span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userId</span><span style="color:#999999;"> </span><span style="color:#AB5959;">!==</span><span style="color:#999999;"> </span><span style="color:#AB5959;">null</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// combine with some state from other modules</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">fullUserDetails</span><span style="color:#999999;">: (</span><span style="color:#B07D48;">state</span><span style="color:#999999;">, </span><span style="color:#B07D48;">getters</span><span style="color:#999999;">, </span><span style="color:#B07D48;">rootState</span><span style="color:#999999;">, </span><span style="color:#B07D48;">rootGetters</span><span style="color:#999999;">) =&gt; {</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#1E754F;">return</span><span style="color:#999999;"> {</span></span>
<span class="line"><span style="color:#999999;">        ...</span><span style="color:#B07D48;">state</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#998418;">fullName</span><span style="color:#999999;">: </span><span style="color:#B07D48;">getters</span><span style="color:#999999;">.</span><span style="color:#B07D48;">fullName</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// read the state from another module named `auth`</span></span>
<span class="line"><span style="color:#999999;">        ...</span><span style="color:#B07D48;">rootState</span><span style="color:#999999;">.</span><span style="color:#B07D48;">auth</span><span style="color:#999999;">.</span><span style="color:#B07D48;">preferences</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// read a getter from a namespaced module called `email` nested under `auth`</span></span>
<span class="line"><span style="color:#999999;">        ...</span><span style="color:#B07D48;">rootGetters</span><span style="color:#999999;">[</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">auth/email</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">].</span><span style="color:#B07D48;">details</span></span>
<span class="line"><span style="color:#999999;">      }</span></span>
<span class="line"><span style="color:#999999;">    }</span></span>
<span class="line"><span style="color:#999999;">  },</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">actions</span><span style="color:#999999;">: {</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#AB5959;">async</span><span style="color:#999999;"> </span><span style="color:#59873A;">loadUser</span><span style="color:#999999;"> ({ </span><span style="color:#B07D48;">state</span><span style="color:#999999;">, </span><span style="color:#B07D48;">commit</span><span style="color:#999999;"> }, </span><span style="color:#B07D48;">id</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">number</span><span style="color:#999999;">) {</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#1E754F;">if</span><span style="color:#999999;"> (</span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userId</span><span style="color:#999999;"> </span><span style="color:#AB5959;">!==</span><span style="color:#999999;"> </span><span style="color:#AB5959;">null</span><span style="color:#999999;">) </span><span style="color:#1E754F;">throw</span><span style="color:#999999;"> </span><span style="color:#AB5959;">new</span><span style="color:#999999;"> </span><span style="color:#59873A;">Error</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">Already logged in</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#AB5959;">const </span><span style="color:#B07D48;">res</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#1E754F;">await</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#B07D48;">user</span><span style="color:#999999;">.</span><span style="color:#59873A;">load</span><span style="color:#999999;">(</span><span style="color:#B07D48;">id</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#59873A;">commit</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">updateUser</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">, </span><span style="color:#B07D48;">res</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">    }</span></span>
<span class="line"><span style="color:#999999;">  },</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">mutations</span><span style="color:#999999;">: {</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">updateUser</span><span style="color:#999999;"> (</span><span style="color:#B07D48;">state</span><span style="color:#999999;">, </span><span style="color:#B07D48;">payload</span><span style="color:#999999;">) {</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">firstName</span><span style="color:#999999;"> = </span><span style="color:#B07D48;">payload</span><span style="color:#999999;">.</span><span style="color:#B07D48;">firstName</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">lastName</span><span style="color:#999999;"> = </span><span style="color:#B07D48;">payload</span><span style="color:#999999;">.</span><span style="color:#B07D48;">lastName</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userId</span><span style="color:#999999;"> = </span><span style="color:#B07D48;">payload</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userId</span></span>
<span class="line"><span style="color:#999999;">    },</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">clearUser</span><span style="color:#999999;"> (</span><span style="color:#B07D48;">state</span><span style="color:#999999;">) {</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">firstName</span><span style="color:#999999;"> = </span><span style="color:#B5695999;">&#39;&#39;</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">lastName</span><span style="color:#999999;"> = </span><span style="color:#B5695999;">&#39;&#39;</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userId</span><span style="color:#999999;"> = </span><span style="color:#AB5959;">null</span></span>
<span class="line"><span style="color:#999999;">    }</span></span>
<span class="line"><span style="color:#999999;">  }</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">storeModule</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// Pinia Store</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { defineStore } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">pinia</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { useAuthPreferencesStore } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">./auth-preferences</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { useAuthEmailStore } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">./auth-email</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> vuexStore </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">@/store</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;"> </span><span style="color:#7B7F8B;">// for gradual conversion, see fullUserDetails</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">State</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  firstName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span></span>
<span class="line"><span style="color:#F6F6F4;">  lastName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">string</span></span>
<span class="line"><span style="color:#F6F6F4;">  userId</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">|</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">null</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> useAuthUserStore </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">defineStore</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">authUser</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">// convert to a function</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">state</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> ()</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">State</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> ({</span></span>
<span class="line"><span style="color:#F6F6F4;">    firstName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    lastName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    userId</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span></span>
<span class="line"><span style="color:#F6F6F4;">  }),</span></span>
<span class="line"><span style="color:#F6F6F4;">  getters</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// firstName getter removed, no longer needed</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">fullName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">state</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">`</span><span style="color:#F286C4;">${</span><span style="color:#F6F6F4;">state.firstName</span><span style="color:#F286C4;">}</span><span style="color:#E7EE98;"> </span><span style="color:#F286C4;">${</span><span style="color:#F6F6F4;">state.lastName</span><span style="color:#F286C4;">}</span><span style="color:#E7EE98;">`</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">loggedIn</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">state</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> state.userId </span><span style="color:#F286C4;">!==</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// must define return type because of using `this`</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">fullUserDetails</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">state</span><span style="color:#F6F6F4;">)</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">FullUserDetails</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// import from other stores</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> authPreferencesStore </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">useAuthPreferencesStore</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> authEmailStore </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">useAuthEmailStore</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">state,</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">// other getters now on `this`</span></span>
<span class="line"><span style="color:#F6F6F4;">        fullName</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.fullName,</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">authPreferencesStore.$state,</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">authEmailStore.details</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// alternative if other modules are still in Vuex</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// return {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">//   ...state,</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">//   fullName: this.fullName,</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">//   ...vuexStore.state.auth.preferences,</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">//   ...vuexStore.getters[&#39;auth/email&#39;].details</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// }</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">  },</span></span>
<span class="line"><span style="color:#F6F6F4;">  actions</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// no context as first argument, use `this` instead</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">async</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">loadUser</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">id</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">number</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.userId </span><span style="color:#F286C4;">!==</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">throw</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Error</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Already logged in</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> res </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">await</span><span style="color:#F6F6F4;"> api.user.</span><span style="color:#62E884;">load</span><span style="color:#F6F6F4;">(id)</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">updateUser</span><span style="color:#F6F6F4;">(res)</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// mutations can now become actions, instead of `state` as first argument use `this`</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">updateUser</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">payload</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.firstName </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> payload.firstName</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.lastName </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> payload.lastName</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.userId </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> payload.userId</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// easily reset state using `$reset`</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">clearUser</span><span style="color:#F6F6F4;"> () {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">$reset</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">})</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// Pinia Store</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">defineStore</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">pinia</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">useAuthPreferencesStore</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">./auth-preferences</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">useAuthEmailStore</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">./auth-email</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">vuexStore</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@/store</span><span style="color:#B5695999;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// for gradual conversion, see fullUserDetails</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">interface</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">State</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">firstName</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">string</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">lastName</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">string</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">userId</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">number</span><span style="color:#999999;"> | </span><span style="color:#AB5959;">null</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#AB5959;"> const </span><span style="color:#B07D48;">useAuthUserStore</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">defineStore</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">authUser</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#AB5959;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// convert to a function</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#59873A;">state</span><span style="color:#999999;">: (): </span><span style="color:#2E8F82;">State</span><span style="color:#999999;"> =&gt; ({</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">firstName</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">lastName</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">userId</span><span style="color:#999999;">: </span><span style="color:#AB5959;">null</span></span>
<span class="line"><span style="color:#999999;">  }),</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">getters</span><span style="color:#999999;">: {</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// firstName getter removed, no longer needed</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">fullName</span><span style="color:#999999;">: (</span><span style="color:#B07D48;">state</span><span style="color:#999999;">) =&gt; </span><span style="color:#B5695999;">`</span><span style="color:#999999;">${</span><span style="color:#B56959;">state</span><span style="color:#999999;">.</span><span style="color:#B56959;">firstName</span><span style="color:#999999;">}</span><span style="color:#B56959;"> </span><span style="color:#999999;">${</span><span style="color:#B56959;">state</span><span style="color:#999999;">.</span><span style="color:#B56959;">lastName</span><span style="color:#999999;">}</span><span style="color:#B5695999;">`</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">loggedIn</span><span style="color:#999999;">: (</span><span style="color:#B07D48;">state</span><span style="color:#999999;">) =&gt; </span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userId</span><span style="color:#999999;"> </span><span style="color:#AB5959;">!==</span><span style="color:#999999;"> </span><span style="color:#AB5959;">null</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// must define return type because of using `this`</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">fullUserDetails</span><span style="color:#999999;"> (</span><span style="color:#B07D48;">state</span><span style="color:#999999;">): </span><span style="color:#2E8F82;">FullUserDetails</span><span style="color:#999999;"> {</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// import from other stores</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#AB5959;">const </span><span style="color:#B07D48;">authPreferencesStore</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">useAuthPreferencesStore</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#AB5959;">const </span><span style="color:#B07D48;">authEmailStore</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">useAuthEmailStore</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#1E754F;">return</span><span style="color:#999999;"> {</span></span>
<span class="line"><span style="color:#999999;">        ...</span><span style="color:#B07D48;">state</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// other getters now on `this`</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#998418;">fullName</span><span style="color:#999999;">: </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">fullName</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">        ...</span><span style="color:#B07D48;">authPreferencesStore</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$state</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">        ...</span><span style="color:#B07D48;">authEmailStore</span><span style="color:#999999;">.</span><span style="color:#B07D48;">details</span></span>
<span class="line"><span style="color:#999999;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// alternative if other modules are still in Vuex</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// return {</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">//   ...state,</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">//   fullName: this.fullName,</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">//   ...vuexStore.state.auth.preferences,</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">//   ...vuexStore.getters[&#39;auth/email&#39;].details</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// }</span></span>
<span class="line"><span style="color:#999999;">    }</span></span>
<span class="line"><span style="color:#999999;">  },</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">actions</span><span style="color:#999999;">: {</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// no context as first argument, use `this` instead</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#AB5959;">async</span><span style="color:#999999;"> </span><span style="color:#59873A;">loadUser</span><span style="color:#999999;"> (</span><span style="color:#B07D48;">id</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">number</span><span style="color:#999999;">) {</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#1E754F;">if</span><span style="color:#999999;"> (</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userId</span><span style="color:#999999;"> </span><span style="color:#AB5959;">!==</span><span style="color:#999999;"> </span><span style="color:#AB5959;">null</span><span style="color:#999999;">) </span><span style="color:#1E754F;">throw</span><span style="color:#999999;"> </span><span style="color:#AB5959;">new</span><span style="color:#999999;"> </span><span style="color:#59873A;">Error</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">Already logged in</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#AB5959;">const </span><span style="color:#B07D48;">res</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#1E754F;">await</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#B07D48;">user</span><span style="color:#999999;">.</span><span style="color:#59873A;">load</span><span style="color:#999999;">(</span><span style="color:#B07D48;">id</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">updateUser</span><span style="color:#999999;">(</span><span style="color:#B07D48;">res</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">    },</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// mutations can now become actions, instead of `state` as first argument use `this`</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">updateUser</span><span style="color:#999999;"> (</span><span style="color:#B07D48;">payload</span><span style="color:#999999;">) {</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">firstName</span><span style="color:#999999;"> = </span><span style="color:#B07D48;">payload</span><span style="color:#999999;">.</span><span style="color:#B07D48;">firstName</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">lastName</span><span style="color:#999999;"> = </span><span style="color:#B07D48;">payload</span><span style="color:#999999;">.</span><span style="color:#B07D48;">lastName</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userId</span><span style="color:#999999;"> = </span><span style="color:#B07D48;">payload</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userId</span></span>
<span class="line"><span style="color:#999999;">    },</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// easily reset state using `$reset`</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">clearUser</span><span style="color:#999999;"> () {</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">$reset</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#999999;">    }</span></span>
<span class="line"><span style="color:#999999;">  }</span></span>
<span class="line"><span style="color:#999999;">})</span></span></code></pre></div><p>Let&#39;s break the above down into steps:</p><ol><li>Add a required <code>id</code> for the store, you may wish to keep this the same as the namespace before. It is also recommended to make sure the <code>id</code> is in <em>camelCase</em> as it makes it easier to use with <code>mapStores()</code>.</li><li>Convert <code>state</code> to a function if it was not one already</li><li>Convert <code>getters</code><ol><li>Remove any getters that return state under the same name (eg. <code>firstName: (state) =&gt; state.firstName</code>), these are not necessary as you can access any state directly from the store instance</li><li>If you need to access other getters, they are on <code>this</code> instead of using the second argument. Remember that if you are using <code>this</code> then you will have to use a regular function instead of an arrow function. Also note that you will need to specify a return type because of TS limitations, see <a href="./../core-concepts/getters.html#accessing-other-getters">here</a> for more details</li><li>If using <code>rootState</code> or <code>rootGetters</code> arguments, replace them by importing the other store directly, or if they still exist in Vuex then access them directly from Vuex</li></ol></li><li>Convert <code>actions</code><ol><li>Remove the first <code>context</code> argument from each action. Everything should be accessible from <code>this</code> instead</li><li>If using other stores either import them directly or access them on Vuex, the same as for getters</li></ol></li><li>Convert <code>mutations</code><ol><li>Mutations do not exist any more. These can be converted to <code>actions</code> instead, or you can just assign directly to the store within your components (eg. <code>userStore.firstName = &#39;First&#39;</code>)</li><li>If converting to actions, remove the first <code>state</code> argument and replace any assignments with <code>this</code> instead</li><li>A common mutation is to reset the state back to its initial state. This is built in functionality with the store&#39;s <code>$reset</code> method. Note that this functionality only exists for option stores.</li></ol></li></ol><p>As you can see most of your code can be reused. Type safety should also help you identify what needs to be changed if anything is missed.</p><h2 id="Usage-Inside-Components" tabindex="-1">Usage Inside Components <a class="header-anchor" href="#Usage-Inside-Components" aria-label="Permalink to &quot;Usage Inside Components&quot;">â€‹</a></h2><p>Now that your Vuex module has been converted to a Pinia store, any component or other file that uses that module needs to be updated too.</p><p>If you were using <code>map</code> helpers from Vuex before, it&#39;s worth looking at the <a href="./options-api.html">Usage without setup() guide</a> as most of those helpers can be reused.</p><p>If you were using <code>useStore</code> then instead import the new store directly and access the state on it. For example:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// Vuex</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { defineComponent, computed } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">vue</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { useStore } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">vuex</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">default</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">defineComponent</span><span style="color:#F6F6F4;">({</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">setup</span><span style="color:#F6F6F4;"> () {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> store </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">useStore</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> firstName </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">computed</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> store.state.auth.user.firstName)</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> fullName </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">computed</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> store.getters[</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">auth/user/fullName</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">      firstName,</span></span>
<span class="line"><span style="color:#F6F6F4;">      fullName</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">})</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// Vuex</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">defineComponent</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">computed</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">vue</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">useStore</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">vuex</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#59873A;">defineComponent</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#59873A;">setup</span><span style="color:#999999;"> () {</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#AB5959;">const </span><span style="color:#B07D48;">store</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">useStore</span><span style="color:#999999;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#AB5959;">const </span><span style="color:#B07D48;">firstName</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">computed</span><span style="color:#999999;">(()</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">store</span><span style="color:#999999;">.</span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">auth</span><span style="color:#999999;">.</span><span style="color:#B07D48;">user</span><span style="color:#999999;">.</span><span style="color:#B07D48;">firstName</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#AB5959;">const </span><span style="color:#B07D48;">fullName</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">computed</span><span style="color:#999999;">(()</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">store</span><span style="color:#999999;">.</span><span style="color:#B07D48;">getters</span><span style="color:#999999;">[</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">auth/user/fullName</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#1E754F;">return</span><span style="color:#999999;"> {</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#B07D48;">firstName</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#B07D48;">fullName</span></span>
<span class="line"><span style="color:#999999;">    }</span></span>
<span class="line"><span style="color:#999999;">  }</span></span>
<span class="line"><span style="color:#999999;">})</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// Pinia</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { defineComponent, computed } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">vue</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { useAuthUserStore } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">@/stores/auth-user</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">export</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">default</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">defineComponent</span><span style="color:#F6F6F4;">({</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">setup</span><span style="color:#F6F6F4;"> () {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> authUserStore </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">useAuthUserStore</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> firstName </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">computed</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> authUserStore.firstName)</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> fullName </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">computed</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> authUserStore.fullName)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// you can also access the whole store in your component by returning it</span></span>
<span class="line"><span style="color:#F6F6F4;">      authUserStore,</span></span>
<span class="line"><span style="color:#F6F6F4;">      firstName,</span></span>
<span class="line"><span style="color:#F6F6F4;">      fullName</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">})</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// Pinia</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">defineComponent</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">computed</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">vue</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">useAuthUserStore</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@/stores/auth-user</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#59873A;">defineComponent</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#59873A;">setup</span><span style="color:#999999;"> () {</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#AB5959;">const </span><span style="color:#B07D48;">authUserStore</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">useAuthUserStore</span><span style="color:#999999;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#AB5959;">const </span><span style="color:#B07D48;">firstName</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">computed</span><span style="color:#999999;">(()</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">authUserStore</span><span style="color:#999999;">.</span><span style="color:#B07D48;">firstName</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#AB5959;">const </span><span style="color:#B07D48;">fullName</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">computed</span><span style="color:#999999;">(()</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">authUserStore</span><span style="color:#999999;">.</span><span style="color:#B07D48;">fullName</span><span style="color:#999999;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#1E754F;">return</span><span style="color:#999999;"> {</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// you can also access the whole store in your component by returning it</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#B07D48;">authUserStore</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#B07D48;">firstName</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#B07D48;">fullName</span></span>
<span class="line"><span style="color:#999999;">    }</span></span>
<span class="line"><span style="color:#999999;">  }</span></span>
<span class="line"><span style="color:#999999;">})</span></span></code></pre></div><h2 id="Usage-Outside-Components" tabindex="-1">Usage Outside Components <a class="header-anchor" href="#Usage-Outside-Components" aria-label="Permalink to &quot;Usage Outside Components&quot;">â€‹</a></h2><p>Updating usage outside of components should be simple as long as you&#39;re careful to <em>not use a store outside of functions</em>. Here is an example of using the store in a Vue Router navigation guard:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// Vuex</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> vuexStore </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">@/store</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">router.</span><span style="color:#62E884;">beforeEach</span><span style="color:#F6F6F4;">((</span><span style="color:#FFB86C;font-style:italic;">to</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">from</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">next</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (vuexStore.getters[</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">auth/user/loggedIn</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">]) </span><span style="color:#62E884;">next</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">else</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">next</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">/login</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">})</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// Vuex</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">vuexStore</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@/store</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B07D48;">router</span><span style="color:#999999;">.</span><span style="color:#59873A;">beforeEach</span><span style="color:#999999;">((</span><span style="color:#B07D48;">to</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">from</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">next</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">vuexStore</span><span style="color:#999999;">.</span><span style="color:#B07D48;">getters</span><span style="color:#999999;">[</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">auth/user/loggedIn</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">])</span><span style="color:#393A34;"> </span><span style="color:#59873A;">next</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#59873A;">next</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">/login</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">})</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// Pinia</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { useAuthUserStore } </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">@/stores/auth-user</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">router.</span><span style="color:#62E884;">beforeEach</span><span style="color:#F6F6F4;">((</span><span style="color:#FFB86C;font-style:italic;">to</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">from</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">next</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">// Must be used within the function!</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> authUserStore </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">useAuthUserStore</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (authUserStore.loggedIn) </span><span style="color:#62E884;">next</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">else</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">next</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">/login</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">})</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// Pinia</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">useAuthUserStore</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@/stores/auth-user</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B07D48;">router</span><span style="color:#999999;">.</span><span style="color:#59873A;">beforeEach</span><span style="color:#999999;">((</span><span style="color:#B07D48;">to</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">from</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">next</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// Must be used within the function!</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">const </span><span style="color:#B07D48;">authUserStore</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">useAuthUserStore</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">authUserStore</span><span style="color:#999999;">.</span><span style="color:#B07D48;">loggedIn</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#59873A;">next</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#59873A;">next</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">/login</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">})</span></span></code></pre></div><p>More details can be found <a href="./../core-concepts/outside-component-usage.html">here</a>.</p><h2 id="Advanced-Vuex-Usage" tabindex="-1">Advanced Vuex Usage <a class="header-anchor" href="#Advanced-Vuex-Usage" aria-label="Permalink to &quot;Advanced Vuex Usage&quot;">â€‹</a></h2><p>In the case your Vuex store using some of the more advanced features it offers, here is some guidance on how to accomplish the same in Pinia. Some of these points are already covered in <a href="./../introduction.html#Comparison-with-Vuex-3-x-4-x">this comparison summary</a>.</p><h3 id="Dynamic-Modules" tabindex="-1">Dynamic Modules <a class="header-anchor" href="#Dynamic-Modules" aria-label="Permalink to &quot;Dynamic Modules&quot;">â€‹</a></h3><p>There is no need to dynamically register modules in Pinia. Stores are dynamic by design and are only registered when they are needed. If a store is never used, it will never be &quot;registered&quot;.</p><h3 id="Hot-Module-Replacement" tabindex="-1">Hot Module Replacement <a class="header-anchor" href="#Hot-Module-Replacement" aria-label="Permalink to &quot;Hot Module Replacement&quot;">â€‹</a></h3><p>HMR is also supported but will need to be replaced, see the <a href="./hot-module-replacement.html">HMR Guide</a>.</p><h3 id="Plugins" tabindex="-1">Plugins <a class="header-anchor" href="#Plugins" aria-label="Permalink to &quot;Plugins&quot;">â€‹</a></h3><p>If you use a public Vuex plugin then check if there is a Pinia alternative. If not you will need to write your own or evaluate whether the plugin is still necessary.</p><p>If you have written a plugin of your own, then it can likely be updated to work with Pinia. See the <a href="./../core-concepts/plugins.html">Plugin Guide</a>.</p></div></div></main><footer class="VPDocFooter" data-v-61a2b52f data-v-d6e39706><!--[--><!--]--><div class="edit-info" data-v-d6e39706><div class="edit-link" data-v-d6e39706><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/vuejs/pinia/edit/v2/packages/docs/cookbook/migration-vuex.md" target="_blank" rel="noreferrer" data-v-d6e39706><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-d6e39706><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Suggest changes to this page<!--]--></a></div><!----></div><nav class="prev-next" data-v-d6e39706><div class="pager" data-v-d6e39706><a class="pager-link prev" href="/cookbook/" data-v-d6e39706><span class="desc" data-v-d6e39706>Previous page</span><span class="title" data-v-d6e39706>Index</span></a></div><div class="pager" data-v-d6e39706><a class="pager-link next" href="/cookbook/hot-module-replacement.html" data-v-d6e39706><span class="desc" data-v-d6e39706>Next page</span><span class="title" data-v-d6e39706>Hot Module Replacement</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-33ee37b4 data-v-84a65dbf><div class="container" data-v-84a65dbf><p class="message" data-v-84a65dbf>Released under the MIT License.</p><p class="copyright" data-v-84a65dbf>Copyright Â© 2019-present Eduardo San Martin Morote</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"zh_api_modules_pinia_nuxt.md\":\"1f17cef8\",\"api_interfaces_pinia.definesetupstoreoptions.md\":\"5d7fb546\",\"zh_api_interfaces_pinia_nuxt.moduleoptions.md\":\"95384f01\",\"api_interfaces_pinia_nuxt.moduleoptions.md\":\"a1474d33\",\"api_interfaces_pinia.pinia.md\":\"7c926cca\",\"api_interfaces_pinia.storeproperties.md\":\"3e714230\",\"api_enums_pinia.mutationtype.md\":\"b413679b\",\"index.md\":\"86df662f\",\"zh_api_interfaces_pinia_testing.testingoptions.md\":\"f68eb8d4\",\"api_modules_pinia_nuxt.md\":\"9dff6c64\",\"api_interfaces_pinia.piniaplugin.md\":\"934b9360\",\"api_interfaces_pinia.definestoreoptionsinplugin.md\":\"3b0da86f\",\"getting-started.md\":\"eacd6cb1\",\"api_interfaces_pinia._subscriptioncallbackmutationbase.md\":\"d4e4ce58\",\"zh_api_interfaces_pinia.subscriptioncallbackmutationpatchobject.md\":\"577151d3\",\"zh_index.md\":\"0b5affc0\",\"cookbook_hot-module-replacement.md\":\"425a4b7b\",\"api_index.md\":\"3abe6f93\",\"zh_api_interfaces_pinia.subscriptioncallbackmutationdirect.md\":\"564b7556\",\"api_interfaces_pinia_testing.testingoptions.md\":\"baa32a4c\",\"api_interfaces_pinia.subscriptioncallbackmutationdirect.md\":\"cf847591\",\"core-concepts_outside-component-usage.md\":\"ae5aa7dc\",\"zh_cookbook_hot-module-replacement.md\":\"ded9d8e9\",\"api_interfaces_pinia.subscriptioncallbackmutationpatchfunction.md\":\"a3248d99\",\"api_interfaces_pinia.mapstorescustomization.md\":\"dadc8458\",\"zh_api_interfaces_pinia._storewithstate.md\":\"4ab9d83a\",\"zh_api_interfaces_pinia.piniaplugin.md\":\"472bc729\",\"zh_api_interfaces_pinia.piniaplugincontext.md\":\"42bbdb0b\",\"zh_api_interfaces_pinia.definestoreoptionsbase.md\":\"f8c97e95\",\"zh_api_interfaces_pinia.subscriptioncallbackmutationpatchfunction.md\":\"56a9583f\",\"zh_core-concepts_index.md\":\"07d9e3f5\",\"api_interfaces_pinia.piniaplugincontext.md\":\"cd44ce5c\",\"api_interfaces_pinia.piniacustomproperties.md\":\"f74bcf5e\",\"ssr_nuxt.md\":\"e415b5ea\",\"core-concepts_getters.md\":\"e30336fd\",\"cookbook_vscode-snippets.md\":\"a68da667\",\"zh_api_interfaces_pinia.definestoreoptions.md\":\"6c1da021\",\"cookbook_composables.md\":\"a169071d\",\"api_interfaces_pinia.definestoreoptions.md\":\"312d088d\",\"zh_getting-started.md\":\"26fdcd94\",\"zh_api_interfaces_pinia.storeproperties.md\":\"da121100\",\"zh_api_enums_pinia.mutationtype.md\":\"bca48214\",\"zh_api_interfaces_pinia.mapstorescustomization.md\":\"8cf8f352\",\"ssr_index.md\":\"6b540d60\",\"zh_api_interfaces_pinia.piniacustomproperties.md\":\"9066bbf7\",\"zh_ssr_index.md\":\"36b0519a\",\"zh_api_interfaces_pinia.definestoreoptionsinplugin.md\":\"67ceb496\",\"zh_api_interfaces_pinia._subscriptioncallbackmutationbase.md\":\"47320f39\",\"zh_api_interfaces_pinia.piniacustomstateproperties.md\":\"a65f323a\",\"zh_cookbook_index.md\":\"1604452b\",\"api_interfaces_pinia.piniacustomstateproperties.md\":\"2ccf466a\",\"api_interfaces_pinia.subscriptioncallbackmutationpatchobject.md\":\"9b0d4d6c\",\"zh_cookbook_composables.md\":\"72ffb754\",\"api_interfaces_pinia.definestoreoptionsbase.md\":\"9a01e5ff\",\"zh_cookbook_migration-v1-v2.md\":\"eff5d0d4\",\"zh_api_interfaces_pinia.definesetupstoreoptions.md\":\"308f2710\",\"introduction.md\":\"d0dadbc2\",\"api_interfaces_pinia_testing.testingpinia.md\":\"4e8a2534\",\"zh_api_index.md\":\"956faccc\",\"zh_cookbook_migration-vuex.md\":\"43022cc4\",\"zh_cookbook_migration-0-0-7.md\":\"702aa166\",\"zh_core-concepts_state.md\":\"01b5e0f7\",\"cookbook_testing.md\":\"bccee371\",\"zh_introduction.md\":\"bdb97549\",\"core-concepts_state.md\":\"a1c2e50d\",\"zh_core-concepts_getters.md\":\"db372812\",\"zh_core-concepts_plugins.md\":\"37cca5e3\",\"cookbook_migration-0-0-7.md\":\"c47cab29\",\"core-concepts_index.md\":\"1ead01b8\",\"api_interfaces_pinia._storeonactionlistenercontext.md\":\"b41aaffc\",\"cookbook_index.md\":\"eae6a8de\",\"zh_api_modules_pinia_testing.md\":\"1704e791\",\"api_modules_pinia.md\":\"4ad83789\",\"zh_api_interfaces_pinia._storeonactionlistenercontext.md\":\"f0de696c\",\"cookbook_composing-stores.md\":\"93984b0d\",\"zh_api_interfaces_pinia.storedefinition.md\":\"94a54c5f\",\"zh_cookbook_testing.md\":\"39f1ea9b\",\"zh_api_interfaces_pinia_testing.testingpinia.md\":\"088294a8\",\"cookbook_migration-v1-v2.md\":\"1244a666\",\"api_interfaces_pinia._storewithstate.md\":\"7b7fedc4\",\"api_modules_pinia_testing.md\":\"606e2e7b\",\"cookbook_options-api.md\":\"3602f476\",\"zh_api_interfaces_pinia.pinia.md\":\"388cee13\",\"core-concepts_actions.md\":\"dfe0fdc6\",\"zh_api_modules_pinia.md\":\"ad74437f\",\"zh_cookbook_options-api.md\":\"a2709dfd\",\"zh_core-concepts_actions.md\":\"79c12c37\",\"zh_core-concepts_outside-component-usage.md\":\"5501ab87\",\"api_interfaces_pinia.storedefinition.md\":\"7a2ff3bd\",\"core-concepts_plugins.md\":\"c4301109\",\"zh_ssr_nuxt.md\":\"696b4bf4\",\"zh_cookbook_composing-stores.md\":\"0594f049\",\"cookbook_migration-vuex.md\":\"ff55aec8\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Pinia\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"appearance\":\"dark\",\"themeConfig\":{\"logo\":\"/logo.svg\",\"outline\":[2,3],\"socialLinks\":[{\"icon\":\"x\",\"link\":\"https://twitter.com/posva\"},{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/pinia\"},{\"icon\":\"discord\",\"link\":\"https://chat.vuejs.org\"}],\"footer\":{\"copyright\":\"Copyright Â© 2019-present Eduardo San Martin Morote\",\"message\":\"Released under the MIT License.\"},\"editLink\":{\"pattern\":\"https://github.com/vuejs/pinia/edit/v2/packages/docs/:path\",\"text\":\"Suggest changes\"},\"algolia\":{\"appId\":\"69Y3N7LHI2\",\"apiKey\":\"45441f4b65a2f80329fd45c7cb371fea\",\"indexName\":\"pinia\"},\"carbonAds\":{\"code\":\"CEBICK3I\",\"placement\":\"routervuejsorg\"}},\"locales\":{\"root\":{\"label\":\"English\",\"lang\":\"en-US\",\"link\":\"/\",\"description\":\"Intuitive, type safe, light and flexible Store for Vue\",\"head\":[[\"meta\",{\"property\":\"og:url\",\"content\":\"https://pinia.vuejs.org\"}],[\"meta\",{\"property\":\"og:description\",\"content\":\"Intuitive, type safe, light and flexible Store for Vue\"}],[\"meta\",{\"property\":\"twitter:url\",\"content\":\"https://pinia.vuejs.org\"}],[\"meta\",{\"property\":\"twitter:title\",\"content\":\"Pinia ğŸ\"}],[\"meta\",{\"property\":\"twitter:description\",\"content\":\"Intuitive, type safe, light and flexible Store for Vue\"}]],\"themeConfig\":{\"editLink\":{\"pattern\":\"https://github.com/vuejs/pinia/edit/v2/packages/docs/:path\",\"text\":\"Suggest changes to this page\"},\"nav\":[{\"text\":\"Guide\",\"link\":\"/core-concepts/\",\"activeMatch\":\"^/core-concepts/\"},{\"text\":\"API\",\"link\":\"/api/\",\"activeMatch\":\"^/api/\"},{\"text\":\"Cookbook\",\"link\":\"/cookbook/\",\"activeMatch\":\"^/cookbook/\"},{\"text\":\"Links\",\"items\":[{\"text\":\"Discussions\",\"link\":\"https://github.com/vuejs/pinia/discussions\"},{\"text\":\"Changelog\",\"link\":\"https://github.com/vuejs/pinia/blob/v2/packages/pinia/CHANGELOG.md\"},{\"text\":\"Vue.js Certification\",\"link\":\"https://certification.vuejs.org/?friend=VUEROUTER\"}]}],\"sidebar\":{\"/api/\":[{\"text\":\"packages\",\"items\":[{\"text\":\"pinia\",\"link\":\"/api/modules/pinia.html\"},{\"text\":\"@pinia/nuxt\",\"link\":\"/api/modules/pinia_nuxt.html\"},{\"text\":\"@pinia/testing\",\"link\":\"/api/modules/pinia_testing.html\"}]}],\"/\":[{\"text\":\"Introduction\",\"items\":[{\"text\":\"What is Pinia?\",\"link\":\"/introduction.html\"},{\"text\":\"Getting Started\",\"link\":\"/getting-started.html\"}]},{\"text\":\"Core Concepts\",\"items\":[{\"text\":\"Defining a Store\",\"link\":\"/core-concepts/\"},{\"text\":\"State\",\"link\":\"/core-concepts/state.html\"},{\"text\":\"Getters\",\"link\":\"/core-concepts/getters.html\"},{\"text\":\"Actions\",\"link\":\"/core-concepts/actions.html\"},{\"text\":\"Plugins\",\"link\":\"/core-concepts/plugins.html\"},{\"text\":\"Stores outside of components\",\"link\":\"/core-concepts/outside-component-usage.html\"}]},{\"text\":\"Server-Side Rendering (SSR)\",\"items\":[{\"text\":\"Vue and Vite\",\"link\":\"/ssr/\"},{\"text\":\"Nuxt.js\",\"link\":\"/ssr/nuxt.html\"}]},{\"text\":\"Cookbook\",\"collapsed\":false,\"items\":[{\"text\":\"Index\",\"link\":\"/cookbook/\"},{\"text\":\"Migration from Vuex â‰¤4\",\"link\":\"/cookbook/migration-vuex.html\"},{\"text\":\"Hot Module Replacement\",\"link\":\"/cookbook/hot-module-replacement.html\"},{\"text\":\"Testing\",\"link\":\"/cookbook/testing.html\"},{\"text\":\"Usage without setup()\",\"link\":\"/cookbook/options-api.html\"},{\"text\":\"Composing Stores\",\"link\":\"/cookbook/composing-stores.html\"},{\"text\":\"VSCode Snippets\",\"link\":\"/cookbook/vscode-snippets.html\"},{\"text\":\"Migration from v0/v1 to v2\",\"link\":\"/cookbook/migration-v1-v2.html\"},{\"text\":\"Dealing with composables\",\"link\":\"/cookbook/composables.html\"}]}]}}},\"zh\":{\"label\":\"ç®€ä½“ä¸­æ–‡\",\"lang\":\"zh-CN\",\"link\":\"/zh/\",\"description\":\"å€¼å¾—ä½ å–œæ¬¢çš„ Vue Store\",\"head\":[[\"meta\",{\"property\":\"og:url\",\"content\":\"https://pinia.vuejs.org\"}],[\"meta\",{\"property\":\"og:description\",\"content\":\"å€¼å¾—ä½ å–œæ¬¢çš„ Vue Store\"}],[\"meta\",{\"property\":\"twitter:url\",\"content\":\"https://pinia.vuejs.org\"}],[\"meta\",{\"property\":\"twitter:title\",\"content\":\"Pinia ğŸ\"}],[\"meta\",{\"property\":\"twitter:description\",\"content\":\"å€¼å¾—ä½ å–œæ¬¢çš„ Vue Store\"}]],\"themeConfig\":{\"editLink\":{\"pattern\":\"https://github.com/vuejs/pinia/edit/v2/packages/docs/:path\",\"text\":\"å¯¹æœ¬é¡µæå‡ºä¿®æ”¹å»ºè®®\"},\"outline\":{\"label\":\"æœ¬é¡µå†…å®¹\"},\"docFooter\":{\"prev\":\"ä¸Šä¸€é¡µ\",\"next\":\"ä¸‹ä¸€é¡µ\"},\"nav\":[{\"text\":\"æŒ‡å—\",\"link\":\"/zh/core-concepts/\",\"activeMatch\":\"^/zh/core-concepts/\"},{\"text\":\"API\",\"link\":\"/zh/api/\",\"activeMatch\":\"^/zh/api/\"},{\"text\":\"æ‰‹å†Œ\",\"link\":\"/zh/cookbook/\",\"activeMatch\":\"^/zh/cookbook/\"},{\"text\":\"ç›¸å…³é“¾æ¥\",\"items\":[{\"text\":\"è®ºå›\",\"link\":\"https://github.com/vuejs/pinia/discussions\"},{\"text\":\"æ›´æ–°æ—¥å¿—\",\"link\":\"https://github.com/vuejs/pinia/blob/v2/packages/pinia/CHANGELOG.md\"}]}],\"sidebar\":{\"/zh/api/\":[{\"text\":\"packages\",\"items\":[{\"text\":\"pinia\",\"link\":\"/zh/api/modules/pinia.html\"},{\"text\":\"@pinia/nuxt\",\"link\":\"/zh/api/modules/pinia_nuxt.html\"},{\"text\":\"@pinia/testing\",\"link\":\"/zh/api/modules/pinia_testing.html\"}]}],\"/zh/\":[{\"text\":\"ä»‹ç»\",\"items\":[{\"text\":\"Pinia æ˜¯ä»€ä¹ˆï¼Ÿ\",\"link\":\"/zh/introduction.html\"},{\"text\":\"å¼€å§‹\",\"link\":\"/zh/getting-started.html\"}]},{\"text\":\"æ ¸å¿ƒæ¦‚å¿µ\",\"items\":[{\"text\":\"å®šä¹‰ Store\",\"link\":\"/zh/core-concepts/\"},{\"text\":\"State\",\"link\":\"/zh/core-concepts/state.html\"},{\"text\":\"Getter\",\"link\":\"/zh/core-concepts/getters.html\"},{\"text\":\"Action\",\"link\":\"/zh/core-concepts/actions.html\"},{\"text\":\"æ’ä»¶\",\"link\":\"/zh/core-concepts/plugins.html\"},{\"text\":\"ç»„ä»¶å¤–çš„ Store\",\"link\":\"/zh/core-concepts/outside-component-usage.html\"}]},{\"text\":\"æœåŠ¡ç«¯æ¸²æŸ“ (SSR)\",\"items\":[{\"text\":\"Vue ä¸ Vite\",\"link\":\"/zh/ssr/\"},{\"text\":\"Nuxt.js\",\"link\":\"/zh/ssr/nuxt.html\"}]},{\"text\":\"æ‰‹å†Œ\",\"collapsed\":false,\"items\":[{\"text\":\"ç›®å½•\",\"link\":\"/zh/cookbook/\"},{\"text\":\"ä» Vuex â‰¤4 è¿ç§»\",\"link\":\"/zh/cookbook/migration-vuex.html\"},{\"text\":\"çƒ­æ›´æ–°\",\"link\":\"/zh/cookbook/hot-module-replacement.html\"},{\"text\":\"æµ‹è¯•\",\"link\":\"/zh/cookbook/testing.html\"},{\"text\":\"ä¸ä½¿ç”¨ setup() çš„ç”¨æ³•\",\"link\":\"/zh/cookbook/options-api.html\"},{\"text\":\"ç»„åˆå¼ Stores\",\"link\":\"/zh/cookbook/composing-stores.html\"},{\"text\":\"ä» v0/v1 è¿ç§»è‡³ v2\",\"link\":\"/zh/cookbook/migration-v1-v2.html\"},{\"text\":\"å¤„ç†ç»„åˆå¼å‡½æ•°\",\"link\":\"/zh/cookbook/composables.html\"}]}]}}},\"es\":{\"label\":\"EspaÃ±ol\",\"lang\":\"es-ES\",\"link\":\"https://es-pinia.vercel.app/\"},\"ko\":{\"label\":\"í•œêµ­ì–´\",\"lang\":\"ko-KR\",\"link\":\"https://pinia.vuejs.kr/\"},\"pt\":{\"label\":\"PortuguÃªs\",\"lang\":\"pt-PT\",\"link\":\"https://pinia-docs-pt.netlify.app/\"},\"uk\":{\"label\":\"Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°\",\"lang\":\"uk-UA\",\"link\":\"https://pinia-ua.netlify.app\"},\"ru\":{\"label\":\"Ğ ÑƒÑÑĞºĞ¸Ğ¹\",\"lang\":\"ru-RU\",\"link\":\"https://pinia-ru.netlify.app\"}},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>