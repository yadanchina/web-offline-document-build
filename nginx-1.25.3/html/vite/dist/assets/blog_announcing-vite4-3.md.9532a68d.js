import{_ as t,o as e,c as r,a as i}from"./app.dbaf790a.js";const a="/og-image-announcing-vite4-3.png",n="/vite4-3-startup-time.png",s="/vite4-3-hmr-time.png",y=JSON.parse('{"title":"Vite 4.3 is out!","description":"","frontmatter":{"sidebar":false,"head":[["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:title","content":"Announcing Vite 4.3"}],["meta",{"property":"og:image","content":"https://vitejs.dev/og-image-announcing-vite4-3.png"}],["meta",{"property":"og:url","content":"https://vitejs.dev/blog/announcing-vite4-3"}],["meta",{"property":"og:description","content":"Vite 4.3 Release Announcement"}],["meta",{"name":"twitter:card","content":"summary_large_image"}]]},"headers":[{"level":2,"title":"Performance Improvements","slug":"performance-improvements","link":"#performance-improvements","children":[]},{"level":2,"title":"Profiling","slug":"profiling","link":"#profiling","children":[]},{"level":2,"title":"Next Steps","slug":"next-steps","link":"#next-steps","children":[]}],"relativePath":"blog/announcing-vite4-3.md"}'),o={name:"blog/announcing-vite4-3.md"},l=i('<h1 id="vite-4-3-is-out" tabindex="-1">Vite 4.3 is out! <a class="header-anchor" href="#vite-4-3-is-out" aria-hidden="true">#</a></h1><p><em>April 20, 2023</em></p><p><img src="'+a+'" alt="Vite 4.3 Announcement Cover Image"></p><p>Quick links:</p><ul><li>Docs: <a href="/">English</a>, <a href="https://cn.vitejs.dev/" target="_blank" rel="noreferrer">ç®€ä½“ä¸­æ–‡</a>, <a href="https://ja.vitejs.dev/" target="_blank" rel="noreferrer">æ—¥æœ¬èªž</a>, <a href="https://es.vitejs.dev/" target="_blank" rel="noreferrer">EspaÃ±ol</a>, <a href="https://pt.vitejs.dev/" target="_blank" rel="noreferrer">PortuguÃªs</a></li><li><a href="https://github.com/vitejs/vite/blob/main/packages/vite/CHANGELOG.md#430-2023-04-20" target="_blank" rel="noreferrer">Vite 4.3 Changelog</a></li></ul><h2 id="performance-improvements" tabindex="-1">Performance Improvements <a class="header-anchor" href="#performance-improvements" aria-hidden="true">#</a></h2><p>In this minor, we focused on improving the dev server performance. The resolve logic got streamlined, improving hot paths and implementing smarter caching for finding <code>package.json</code>, TS config files, and resolved URL in general.</p><p>You can read a detailed walkthrough of the performance work done in this blog post by one of Vite Contributors: <a href="https://sun0day.github.io/blog/vite/why-vite4_3-is-faster.html" target="_blank" rel="noreferrer">How we made Vite 4.3 faaaaster ðŸš€</a>.</p><p>This sprint resulted in speed improvements across the board compared to Vite 4.2.</p><p>These are the performance improvements as measured by <a href="https://github.com/sapphi-red/performance-compare" target="_blank" rel="noreferrer">sapphi-red/performance-compare</a>, which tests an app with 1000 React Components cold and warm dev server startup time as well as HMR times for a root and a leaf component:</p><table><thead><tr><th style="text-align:left;"><strong>Vite (babel)</strong></th><th style="text-align:right;">Vite 4.2</th><th style="text-align:right;">Vite 4.3</th><th style="text-align:right;">Improvement</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>dev cold start</strong></td><td style="text-align:right;">17249.0ms</td><td style="text-align:right;">5132.4ms</td><td style="text-align:right;">-70.2%</td></tr><tr><td style="text-align:left;"><strong>dev warm start</strong></td><td style="text-align:right;">6027.8ms</td><td style="text-align:right;">4536.1ms</td><td style="text-align:right;">-24.7%</td></tr><tr><td style="text-align:left;"><strong>Root HMR</strong></td><td style="text-align:right;">46.8ms</td><td style="text-align:right;">26.7ms</td><td style="text-align:right;">-42.9%</td></tr><tr><td style="text-align:left;"><strong>Leaf HMR</strong></td><td style="text-align:right;">27.0ms</td><td style="text-align:right;">12.9ms</td><td style="text-align:right;">-52.2%</td></tr></tbody></table><table><thead><tr><th style="text-align:left;"><strong>Vite (swc)</strong></th><th style="text-align:right;">Vite 4.2</th><th style="text-align:right;">Vite 4.3</th><th style="text-align:right;">Improvement</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>dev cold start</strong></td><td style="text-align:right;">13552.5ms</td><td style="text-align:right;">3201.0ms</td><td style="text-align:right;">-76.4%</td></tr><tr><td style="text-align:left;"><strong>dev warm start</strong></td><td style="text-align:right;">4625.5ms</td><td style="text-align:right;">2834.4ms</td><td style="text-align:right;">-38.7%</td></tr><tr><td style="text-align:left;"><strong>Root HMR</strong></td><td style="text-align:right;">30.5ms</td><td style="text-align:right;">24.0ms</td><td style="text-align:right;">-21.3%</td></tr><tr><td style="text-align:left;"><strong>Leaf HMR</strong></td><td style="text-align:right;">16.9ms</td><td style="text-align:right;">10.0ms</td><td style="text-align:right;">-40.8%</td></tr></tbody></table><p><img src="'+n+'" alt="Vite 4.3 vs 4.2 startup time comparison"></p><p><img src="'+s+'" alt="Vite 4.3 vs 4.2 HMR time comparison"></p><p>You can read more information about the benchmark <a href="https://gist.github.com/sapphi-red/25be97327ee64a3c1dce793444afdf6e" target="_blank" rel="noreferrer">here</a>. Specs and Versions for this performance run:</p><ul><li>CPU: Ryzen 9 5900X, Memory: DDR4-3600 32GB, SSD: WD Blue SN550 NVME SSD</li><li>Windows 10 Pro 21H2 19044.2846</li><li>Node.js 18.16.0</li><li>Vite and React Plugin versions <ul><li>Vite 4.2 (babel): Vite 4.2.1 + plugin-react 3.1.0</li><li>Vite 4.3 (babel): Vite 4.3.0 + plugin-react 4.0.0-beta.1</li><li>Vite 4.2 (swc): Vite 4.2.1 + plugin-react-swc 3.2.0</li><li>Vite 4.3 (swc): Vite 4.3.0 + plugin-react-swc 3.3.0</li></ul></li></ul><p>Early adopters have also reported seeing 1.5x-2x dev startup time improvement on real apps while testing the Vite 4.3 beta. We&#39;d love to know the results for your apps.</p><h2 id="profiling" tabindex="-1">Profiling <a class="header-anchor" href="#profiling" aria-hidden="true">#</a></h2><p>We&#39;ll continue to work on Vite&#39;s performance. We&#39;re working on an official <a href="https://github.com/vitejs/vite-benchmark" target="_blank" rel="noreferrer">Benchmark tool</a> for Vite that let us get performance metrics for each Pull Request.</p><p>And <a href="https://github.com/antfu/vite-plugin-inspect" target="_blank" rel="noreferrer">vite-plugin-inspect</a> now has more performance-related features to help you identify which plugins or middlewares are the bottleneck for your applications.</p><p>Using <code>vite --profile</code> (and then pressing <code>p</code>) once the page loads will save a CPU profile of the dev server startup. You can open them in an app as <a href="https://www.speedscope.app/" target="_blank" rel="noreferrer">speedscope</a> to identify performance issues. And you can share your findings with the Vite Team in a <a href="https://github.com/vitejs/vite/discussions" target="_blank" rel="noreferrer">Discussion</a> or in <a href="https://chat.vitejs.dev" target="_blank" rel="noreferrer">Vite&#39;s Discord</a>.</p><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-hidden="true">#</a></h2><p>We decided to do a single Vite Major this year aligning with the <a href="https://endoflife.date/nodejs" target="_blank" rel="noreferrer">EOL of Node.js 16</a> in September, dropping support for both Node.js 14 and 16 in it. If you would like to get involved, we started a <a href="https://github.com/vitejs/vite/discussions/12466" target="_blank" rel="noreferrer">Vite 5 Discussion</a> to gather early feedback.</p>',23),d=[l];function g(p,h,c,m,f,u){return e(),r("div",null,d)}const b=t(o,[["render",g]]);export{y as __pageData,b as default};
